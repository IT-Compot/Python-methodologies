# Урок 2 

## Краткое содержание 
- Перерисовка змейки для её движения
- Управление клавишами
- Код стирания старой змейки

## Движение змейки

Как заставить змейку двигаться? Движение будет реализовано следующим образом: у нас будет таймер, который будет перерисовывать сетку тайлмэпа и таким образом перемещать змейку.

Движение состоит из двух частей: 
- подтянуть хвост (удалить последний тайл)
- добавить новый таил по направлению движения

Направление движения это новая глобальная переменная типа `Vector2` назовем её `snake_direction` и зададим начальные значения `(1, 0)`, что соответствует движению вправо (Объявим переменную после объявления `snake_body`)

```gdscript
var snake_direction = Vector2(1, 0) # направление движения
```

Создадим новую функцию - движения, назовем её `move()` 
Удалим последнюю ячейку массива. Используя функцию `remove_at()`, данная функция требует указания номера удаляемого элемента, в нашем случае это последний элемент. Вычислим последний элемент с помощью функции `size()`, возвращающей количество элементов массива, но количество элементов не равно номеру последнего элемента, т.к. нумерация начинается с 0. Поэтому номер последнего элемента будет на единицу меньше, чем количество, сохраним этот номер в локальной переменной `last_num`

Скрипт:
```gdscript
func move():
  var last_num = snake_body.size() - 1 # добавляем последний элемент тела змейки
  snake_body.remove_at(last_num) # убираем его 
  var new_head = snake_body[0] + snake_direction # создаем новую голову с учетом направления
  snake_body.insert(0, new_head) # добавляем "новую" голову
```
