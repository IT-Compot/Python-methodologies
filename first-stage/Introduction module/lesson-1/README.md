# Вводный модуль 1 урок

Привет! Если ты искал / искала методичку по первому уроку вводного модуля python. То тогда ты по адресу!

Цель: познакомить детей с движком, научить базовоой работе с узлами их свойствами, а так же поработать с системой координат.

## [Материалы](https://disk.yandex.ru/d/bBVIm_ZagXniUg) | [Пример проекта](https://disk.yandex.ru/d/wwfRIib0H8vYBg)

## Содержание

- [Знакомство 10 минут](#знакомство-10-минут)
  - [Если ученик опоздал:](#если-ученик-опоздал)
- [Демонстрация и проверка](#демонстрация-игры-и-проверка)
- [Создание проекта](#создание-проекта)
- [Первые шаги](#первые-шаги)
  - [Импорт файлов](#импорт-файлов-в-проект)
  - [Персонаж и фон](#персонаж-и-фон)
    - [Фон](#фон)
    - [Персонаж](#персонаж)
- [Код](#код)
  - [Базовые функции](#базовые-функции)
  - [Гравитация](#гравитация)
  - [Полёт](#полёт)
- [Итоги](#подведение-итогов)
- [Допы](#допы)
<!-- [1]: #знакомство-10-минут -->

## <u>Знакомство 10 минут</u>

Начинать стоит с знакомства с твоими новыми учениками. Будь первым, расскажи о себе.\
Если не знаешь с чего начать попробуй ответить на эти вопросы:

1. Кто ты? (Преподаватель в школе IT компот)
2. Что ты будешь делать? (Учить создавать игры)
3. Чем ты увлекаешься? (Музыка, видео игры, вышивание и т.д.)

Отлично! Теперь попроси каждого из своих учеников представиться и рассказать о себе.\
Не стесняйся задавать им адресные вопросы:

1. Чем ты увлекаешься?
2. В какие игры играешь?
3. Какую игру хотел/хотела бы сделать?
4. Что уже успел/успела попрограммировать

>[!TIP]
> Это поможет отыскать подход к ученикам и использовать информацию о них на уроке, а так же позволит повысить уровень комфорта на уроке.

### Если ученик опоздал:

Если ученик опоздал на урок, обязательно поприветствовать. Задать пару простых впросов ("Сколько лет?", "Где живёшь?", "Опыт программирования?"). Ученика необходимо влить в группу!

Можно в 2-х словах рассказать чем сейчас все занимаются, по возможности дать задание всей группе и догнать с опоздавшим. Либо дать задание опоздавшему (скачать файлы, скачать движок, если у него его нет).

>[!WARNING]
> Если ученик опоздал значительно (дети уже выставили на сцену фон и персонажа), лучше попросить админа перезаписать ученика.

## Демонстрация игры и проверка

Чтобы ученики понимали что их ждёт обязательно покажите готовый вариант игры и объясните особенности геймплея.\
По сути мы делаем свою интерпретацию игры `Flappy Bird`

![alt text](https://github.com/user-attachments/assets/2c51f842-4fa3-413d-b3d3-b57db30545f6)

Перед началом обязательно проверь на демонстрации каждого ученика правильная ли версия движка у него стоит! В случае если нет. Необходимо установить актуальную версию.

>[!IMPORTANT]
> Все уроки первого года ведём 3.x.x версии! **[актуальная версия движка](https://godotengine.org/download/3.x/windows/)**

## Создание проекта

Запускаем движок, в появившемся всплывающем окне жмём `отмена`\
![alt text](images/image.png)

Следующим шагом будет нажать на кнопку `Новый проект` и придумать название вашего проекта.
![alt text](images/image-1.png)

>[!TIP]
> Дайте ученикам самим придумать названия своих проектов, но следите за цензурой. Оскорбления в любом виде (даже субъективно мягком) недопустимы.

После того как назвали, нажимаем создать папку и попадаем в движок. На этом этапе убедитесь, что каждый ученик нажал на кнопку `2D сцена`

![node 2d](https://github.com/user-attachments/assets/91e6b0e6-a3ec-4809-b005-555f8a780751)

У учеников должен появиться узел `Node2D`. Если у кого-то не получилось исправляем.
![alt text](images/image-3.png)

## Первые шаги

### Импорт файлов в проект

Отправляем ученикам [архив](https://disk.yandex.ru/d/bBVIm_ZagXniUg) с файлами для игры.

Как только ученики скачают файлы просим их открыть архивы.

>[!NOTE]
> В Godot перетащить файлы можно только из ахива с расширением `rar`. Архивы с другими расширениям (к примеру `zip`) перед этим необходимо распаковать.

Есть множество вариантов импорта. Я покажу самый удобный, на мой взгляд.

Показываем ученикам раздел `Файловая система` в движке. Ищем там папку `res://`.\
Объясняем, что там будут хранится все файлы проекта (модельки, звуки и т.д.)

Нажимаем `правой кнопкой мыши` на `res://` и выбираем `открыть в проводнике`
В открывшуюся папку перетаскиваем файлы для игры из архива и возвращаемся в движок.

![import](https://github.com/user-attachments/assets/2ae006ba-5ff6-4b2e-856e-4449425ff04a)

### Персонаж и фон

#### Фон

Показываем ученикам `файловую систему`. Даём возможность самостоятельно выбрать для себя фон.\
И показываем как растянуть по всей видимой области игры.
![bg](https://github.com/user-attachments/assets/0eaf4420-9f7d-4f39-acf4-995065f9acf9)

После этого обязательно сохраняем проект `ctrl + s`.\
Либо сверху слева находим раздел `сцена`, нажимаем и ищем `сохранить сцену`.

После этого запускаем игру `F5` или клавишей ![alt text](images/image-11.png) в правом верхнем углу движка и смотрим, что вышло.

#### Персонаж

В фильтре узлов, находим узел `Node2D` нажимаем по нему и слева вверху ищем знак `+`. \
Ищем узел `KinematicBody2D` и добавляем его на сцену.\
![alt text](images/image-7.png)

Объясняем в 2-х словах, что это специальный узел для двигающихся тел (персонажей, препятствий и т.д.).

>[!TIP]
> Можно дать ученикам возможность переименовать узел с персонажем самостоятельно, пускай назовут как хотят. Но следите за цензурой!

Следующим шагом даём выбрать персонажа из огромного количества в файлах. И предлагаем перенести точно так же на сцену из `файловой системы`.

Проверьте чтобы у каждого ученика `спрайт` был прикреплён к узлу `KinematicBody2D`.
![alt text](images/image-12.png)

Далее выбираем в фильтре узлов `спрайт`. И показываем в `Инспеторе` раздел `Transform`.\
Объясняем, на примерах, что позиция `спрайта` должна быть точно такой же как и у `KinematicBody2D`.

Сбрасываем позицию `спрайта` и группируем объекты при помощи кнопки на панели инструментов ![alt text](images/image-13.png).\
Дальше ученики могут поставить персонажа где нравится.

>[!TIP]
> Если нужно отразить `спрайт`. Установите свойство `scale` по оси `x` в значение `-1`.
>У узла `AnimatedSprite` есть свойства `Flip H` и `Flip V` - они так же позволяет отражать анимации по горизонтали и вертикали соответсвенно.

>[!TIP]
> Если при изменении масштаба персонажа начинает крючить, он теряет в качестве и становится как я после 8 - го урока подряд.
> То можно переимпортировать изображение выбрав пресет `2D пиксели`.

![newview](https://github.com/user-attachments/assets/1245d541-95dc-4cc1-9c34-ebf37f276653)

## Код

#### Базовые функции

Начинаем с функций `_ready()` и `_physics_process(delta)`

Объясняем, что `_ready()` срабатывает один раз и спрашиваем где это можно использовать.\
Самый базовый пример - генерация мира в майнкрафт или террарии.

```GDScript
func _ready():
	print("Игра началась")
```

В отличии от `_ready()`, `_physics_process(delta)` работает пока её не остановишь принудительно.\
Срабатывает она 60 раз в секунду.

```GDScript
func _physics_process(delta):
	print("Игра идёт")
```

Можно рассказать про `delta` - время смены одного кадра на другой.

```GDScript
func _physics_process(delta):
#	print(delta)
	print(1/delta) # Покажет количество кадров в выводе.
```

#### Гравитация

У персонажа должна быть гравитация. Тут можно рассказать про константу g = 9.8.

>[!TIP]
> Хорошая возможность подметить, что физика которую изучают или будут изучать в школе, пригодится и в программировании.

Я объясняю на простом примере с арбузом падающим с большой высоты, но вы можете придумать свои.

Обязательно поделись своим примером с остальными в чате педагогов :з

Внутри функции `_physics_process(delta)` вызываем функцию `move_and_slide()`.

>[!NOTE]
> `move_and_slide()` - Перемещает тело вдоль вектора. Если тело столкнется с другим телом, оно будет скользить вдоль него, а не остановится сразу. Если другое тело является KinematicBody2D или RigidBody2D, на него также будет влиять движение другого тела. Это можно использовать для создания движущихся и вращающихся платформ или для того, чтобы узлы толкали другие узлы.

Тут хорошо будет объяснить, что вообще такое [вектор](https://docs.godotengine.org/en/stable/tutorials/math/vector_math.html#coordinate-systems-2d) (в 2-х словах - это направленный отрезок) и чем он отличается от `отрезка`. Отлично будет показать в рисунках.

![Изображение вектора](https://github.com/user-attachments/assets/44b2f54d-6e36-4923-9df4-7149133e3ec8)


>[!IMPORTANT]
> Уточните знакомы ли ученики с осями. Расскажите почему положитльеный `y`, направлен вниз и отметьте отличаие от класичекого представления координатной плоскости в математики (в математике `y` направлен вверх). И картинку! добавить.

![Cитема координат в GODOT](https://github.com/user-attachments/assets/3f34fded-94e4-4b36-a55d-0b170e0e0888)

>[!NOTE]
>Большинство графических редакторов и компьютерных систем работают по принципу `scanlines`. То есть сверху вниз, слева направо. Даже настройки рендеринга мониторов в ОС имеют точку 0.0, в левом верхем углу основного экрана. Так что исторически так сложилось, что этот способ представления 2D стал чем-то вроде стандарта во многих программах с графическим интерфейсом.   

Говорим, что в движке есть специальный класс `Vector2()`, который позволяет задавать вектора и позицию используя оси `x` и `y`.

Итоговый код будет выглядеть так:

```GDScript
func _physics_process(delta):
	move_and_slide(Vector2(0, 9.8))
```

Запускаем и видим, что персонаж неловко опускается вниз с одной и тоже скоростью.\
Спрашиваем как можно исправить. Наводим на мысль, что каждую секунду `9.8` возрастает на `9.8`. Вспоминая про предыдущее объяснение `g`.

Тут отличная возможность ввести переменные. Cоздаём переменную `velocity`.

>[!NOTE]
> `velocity` - векторная скорость. Она же векторная физическая величина, характеризующая быстроту перемещения и направление движения материальной точки относительно выбранной системы отсчёта.

```GDScript
var velocity = Vector2(0, 9.8)
```

Объясняем на простых примерах, что переменные нужны для хранения значений (можно сравнить с коробками).

Дописываем логику гравитации и проверяем:

```GDScript
var velocity = Vector2(0, 9.8)


func _physics_process(delta):
	velocity.y = velocity.y + 9.8 # сокращённый вариант даём только хардам
	move_and_slide(velocity)
```

#### Полёт

Спрашиваем как управлять персонажем? После вариантов ответов идём задавать кнопки.

![key](https://github.com/user-attachments/assets/2907a9dc-6701-4435-9183-adcaf5c3b69d)

Открываем слева сверху `проект`. В выпадающем меню выбираем `настройки проекта`.

Во вкладе `Список действий` задаём новое действие и нажимаем на кнопку `добавить`.

Находим справа от нового действия `+` и нажав на него выбираем `Клавиша`

И даём ученикам выбрать любую кнопку для полёта.

Останется только написать условие полёта. Тут я обычно просто спрашиваю как будет "если" по английски.

Собственно сам код с условием:

```GDScript
var velocity = Vector2(0, 9.8)


func _physics_process(delta):
	velocity.y = velocity.y + 9.8 # сокращённый вариант даём только хардам

	if Input.is_action_just_pressed("fly"):
		velocity.y = -400

	move_and_slide(velocity)
```

>[!IMPORTANT]
> Это логическая точка перового урока. Дальше код не пишем! Если осталось много времени делаем допы. Учьтите, что на подведение итогов, анкету обратной связи и презентацию может уйти от 5 до 10 минут.  

## Подведение итогов

В конце урока обязательно подвести итоги:

- Задать каждому ученику по одному вопросу по коду
- Спросить каждого, что было самым интересным
- Показать слайды из [презентации](https://disk.yandex.ru/edit/disk/disk%2F%D0%9C%D0%B5%D1%82%D0%BE%D0%B4%D0%B8%D0%BA%D0%B0%2F%D0%9F%D0%B0%D0%B9%D1%82%D0%BE%D0%BD%2F%D0%92%D0%B2%D0%BE%D0%B4%D0%BD%D1%8B%D0%B9%20%D0%BC%D0%BE%D0%B4%D1%83%D0%BB%D1%8C%2F%D0%92%D0%B2%D0%BE%D0%B4%D0%BD%D1%8B%D0%B9%20%D0%BC%D0%BE%D0%B4%D1%83%D0%BB%D1%8C%20%D0%BA%D0%BE%D0%BD%D0%B5%D1%86%201-%D0%B3%D0%BE%20%D1%83%D1%80%D0%BE%D0%BA%D0%B0.pptx?sk=y0558e7604686d2021b798a6c5c5b2395)
- Отправить анкету обратной связи

## Допы:

1. Код рефакторинг (например вынести прыжок и гравитацию в отдельные переменные), объяснить зачем, на примере.
2. Делаем анимации через анимэйтед спрайт.
3. Показываем узел ParallaxLayer (если много времени осталось)
   или VideoPlayer (если времени мало), в файлах будут зарание готовые видео нужного формата.
4. Задать каждому ученику минимум по 1-му вопросу по коду или узлам и помочь найти ответ в случае затруднений. Так же спросить у каждого, что больше всего понравилось делать на уроке.
5. Партиклы
