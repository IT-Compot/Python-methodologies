# 5 –£—Ä–æ–∫


## –ö—Ä–∞—Ç–∫–æ–µ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- –ü–æ–±–µ–¥–∞ –∏–≥—Ä–æ–∫–∞
- [–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å](#–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã)
  - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ `HP` [–∏–≥—Ä–æ–∫–∞](#–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã) 
  - –ü–æ—Ä–∞–∂–µ–Ω–∏–µ –∏–≥—Ä–æ–∫–∞
  - –ú–µ–Ω—é
  - –ü–æ–±–µ–¥–∞ –∏–≥—Ä–æ–∫–∞

## –ü–æ–±–µ–¥–∞ –∏–≥—Ä–æ–∫–∞

–ò–≥—Ä–æ–∫ –ø–æ–±–µ–¥–∏—Ç, –µ—Å–ª–∏ –ø—Ä–æ–¥–µ—Ä–∂–∏—Ç—Å—è –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—Ä–µ–º–µ–Ω–∏. 

–ß—Ç–æ –¥–µ–ª–∞–µ–º?
- –î–æ–±–∞–≤–∏–º `Timer` –∫ –∫–æ—Ä–Ω–µ–≤–æ–º—É —É–∑–ª—É, –≥–ª–∞–≤–Ω–æ–π —Å—Ü–µ–Ω—ã –∏–≥—Ä—ã –∏ –º–æ–∂–µ—Ç–µ –µ–≥–æ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å –≤ `GameTimer`
- –í—ã—Å—Ç–∞–≤–ª—è–µ–º –∂–µ–ª–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ `Wait Time`. –ù–∞–ø—Ä–∏–º–µ—Ä, 40 —Å–µ–∫—É–Ω–¥
- –°—Ç–∞–≤–∏–º `Autostart`
- –ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–µ–º —Å–∏–≥–Ω–∞–ª `timeout` –∫ —Å–∫—Ä–∏–ø—Ç—É –∫–æ—Ä–Ω–µ–≤–æ–π —Å—Ü–µ–Ω—ã
- –ü—Ä–æ–ø–∏—Å—ã–≤–∞–µ–º –ø–∞—É–∑—É –¥–µ—Ä–µ–≤–∞

#### –°–∫—Ä–∏–ø—Ç:

```gdscript
# game.gd

func _on_game_timer_timeout():
	print("You win") # –≤—ã–≤–æ–¥–∏–º –Ω–∞–¥–ø–∏—Å—å
	get_tree().paused = true # —Å—Ç–∞–≤–∏–º –¥–µ—Ä–µ–≤–æ –Ω–∞ –ø–∞—É–∑—É
```

–ò –≤–æ—Ç —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ –≥–æ—Ç–æ–≤–∞ –º–µ—Ö–∞–Ω–∏–∫–∞ –ø–æ–±–µ–¥—ã –∏–≥—Ä–æ–∫–∞. 

## –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
### –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏–≥—Ä–æ–∫–∞

–°–¥–µ–ª–∞–µ–º –∞–∫—Ç–∏–≤–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ `HP` —É –∏–≥—Ä–æ–∫–∞. –°–¥–µ–ª–∞–µ–º –º—ã —ç—Ç–æ –ø—Ä–∏ –ø–æ–º–æ—â–∏ `AnimatedSprite2D`. –°–æ–∑–¥–∞–µ–º `CanvasLayer` –≤ –≥–ª–∞–≤–Ω–æ–π —Å—Ü–µ–Ω–µ –∏ –º–æ–∂–µ–º –µ–≥–æ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å –≤ `HUD` –∏ –≤–Ω—É—Ç—Ä–∏ —ç—Ç–æ–≥–æ —É–∑–ª–∞ —Å–æ–∑–¥–∞–µ–º —É–∑–µ–ª `Control`, –∞ —É–∂–µ –≤ –Ω–µ–≥–æ –¥–æ–±–∞–≤–ª—è–µ–º `AnimatedSprite2D`.

–î–æ–ª–∂–Ω–æ –±—ã—Ç—å —á—Ç–æ-—Ç–æ –≤—Ä–æ–¥–µ —ç—Ç–æ–≥–æ:

<img src='https://github.com/IT-Compot/Python-methodologies/blob/main/first-stage/Shooter/images/ui_tree_screenshot.jpg'>

>[!Note]
>`HUD` (Heads-Up Display) ‚Äî —ç—Ç–æ —ç–ª–µ–º–µ–Ω—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –≤ –∏–≥—Ä–∞—Ö, –∫–æ—Ç–æ—Ä—ã–π –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –≤–∞–∂–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –¥–ª—è –∏–≥—Ä–æ–∫–∞ –±–µ–∑ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è –∏–≥—Ä–æ–≤–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞.
>
>–ü—Ä–∏–º–µ—Ä—ã –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –Ω–∞ HUD:
>- –ó–¥–æ—Ä–æ–≤—å–µ (`HP`), –º–∞–Ω–∞, –≤—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç—å
>- –û—á–∫–∏, —Å—á–µ—Ç—á–∏–∫ –∫–æ–º–±–æ
>- –ö–∞—Ä—Ç–∞ –∏–ª–∏ –º–∏–Ω–∏-–∫–∞—Ä—Ç–∞
>- –û—Ä—É–∂–∏–µ –∏ –±–æ–µ–ø—Ä–∏–ø–∞—Å—ã
>- –¢–∞–π–º–µ—Ä –∏–ª–∏ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –º–∏—Å—Å–∏–∏

#### –ü–æ—Ä–∞–±–æ—Ç–∞–µ–º —Å `TextureProgressBar`.

<img src='https://github.com/IT-Compot/Python-methodologies/blob/main/first-stage/Shooter/images/TextureProgressBar.png'>

- –ó–∞–≥—Ä—É–∂–∞–µ–º –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã `Under` –∏ `Over` –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ç–µ–∫—Å—Ç—É—Ä—ã
	- –≤ `Under` –º—ã –∑–∞–≥—Ä—É–∂–∞–µ–º –∑–∞–¥–Ω–∏–π —Ñ–æ–Ω –ø—Ä–æ–≥—Ä–µ—Å—Å –±–∞—Ä–∞
 	- –≤ `Over` —Å–æ–æ—Ç–≤–µ—Ç—Å–≤–µ–Ω–Ω–æ —Ç–µ–∫—Å—Ç—É—Ä—É –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–µ—Å—Å –±–∞—Ä–∞ 
- –ü–∞—Ä–∞–º–µ—Ç—Ä `Max Value` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ä–∞–≤–µ–Ω –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–º—É (–∏–∑–Ω–∞—á–∞–ª—å–Ω–æ–º—É) –∫–æ–ª–∏—á–µ—Å—Ç–≤—É `hp` –∏–≥—Ä–æ–∫–∞ (–µ—Å–ª–∏ —É—á–µ–Ω–∏–∫ –∑–∞—Ö–æ—á–µ—Ç, —á—Ç–æ–±—ã —É –∏–≥—Ä–æ–∫–∞ –±—ã–ª–æ 100 `hp`, —Ç–æ `Max Value` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ä–∞–≤–µ–Ω 100) 


### –°–∫—Ä–∏–ø—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

–ó–∞–¥–∞–µ–º —É–∑–ª—É –∏–≥—Ä–æ–∫–∞ —É–Ω–∏–∫–∞–ª—å–Ω–æ–µ –∏–º—è (–∂–º–µ–º <kbd>–ø—Ä–∞–≤–æ–π –∫–Ω–æ–ø–∫–æ–π –º—ã—à–∏</kbd> –Ω–∞ —É–∑–µ–ª –∏ –∏—â–µ–º –∑–Ω–∞–∫ `%` —Å —Ç–µ–∫—Å—Ç–æ–º `–î–æ—Å—Ç—É–ø –∫–∞–∫ –∫ —É–Ω–∏–∫–∞–ª—å–Ω–æ–º—É –∏–º–µ–Ω–∏`). –û–Ω–æ –Ω—É–∂–Ω–æ, —á—Ç–æ–±—ã –Ω–µ–∑–∞–≤—Å–∏–º–æ –æ—Ç —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—è —É–∑–ª–∞ - –ø—É—Ç—å –æ—Å—Ç–∞–≤–∞–ª—Å—è –Ω–µ–∏–∑–º–µ–Ω–Ω—ã–º. 

–ü—Ä–∏–º–µ—Ä:

```gdscript
# example

func _process(delta):
	$"../../Player".hp # –≤–º–µ—Å—Ç–æ —Ç–∞–∫–æ–≥–æ –ø—É—Ç–∏
	%Player.hp # –±—É–¥–µ—Ç —Ç–∞–∫–æ–π –∏ –æ–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ –∑–Ω–∞–∫ –ø—Ä–æ—Ü–µ–Ω—Ç–∞
```

–¢–µ–ø—Ä–µ—å —Å–æ–∑–¥–∞–µ–º —Å–∫—Ä–∏–ø—Ç –≤–Ω—É—Ç—Ä–∏ —É–∑–ª–∞ `Control` –∏ –ø–∏—à–µ–º —Å–ª–µ–¥—É—é—â–∏–π –∫–æ–¥:

```gdscript
extends Control


func _process(delta):
	$TextureProgressBar.value = %Player.hp # value –ø—Ä–æ–≥—Ä–µ—Å—Å –±–∞—Ä–∞ —Ä–∞–≤–µ–Ω –∫–æ–ª–∏—á–µ—Å—Ç–≤—É —Ö–ø –∏–≥—Ä–æ–∫–∞
```

–ò –Ω–µ –∑–∞–±—ã–≤–∞–µ–º –ø–æ–ø—Ä–∞–≤–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ `hp` —É –∏–≥—Ä–æ–∫–∞.

```gdscript
# player.gd

var hp = 8 # –º–µ–Ω—è–µ–º –Ω–∞ –Ω—É–∂–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ, –Ω–∞–ø—Ä–∏–º–µ—Ä 100
```

## –ü–æ—Ä–∞–∂–µ–Ω–∏–µ –∏–≥—Ä–æ–∫–∞

–ù–∞ —Å–∞–º–æ–º –¥–µ–ª–µ –º—ã –ø–æ–º–∏–º–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –µ—â–µ –ø–µ—Ä–µ–ø–∏—à–µ–º –∫–æ–¥ –∏–≥—Ä–æ–∫–∞. –ù–∞–º —Ç–µ–ø–µ—Ä—å –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ, —á—Ç–æ–±—ã –∏–≥—Ä–æ–∫ –º–æ–≥ –≤–æ –≤—Ä–µ–º—è –ø—Ä–æ–∏–≥—Ä—ã—à–∞ –≤—ã–∑—ã–≤–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø—Ä–æ–∏–≥—Ä—ã—à–∞, –≥–¥–µ –±—É–¥–µ—Ç –Ω–∞–ø–∏—Å–∞–Ω–æ "–¢—ã –ø—Ä–æ–∏–≥—Ä–∞–ª" –∏–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—Ö–æ–∂–µ–µ.

–ü–µ—Ä–µ–¥–µ–ª–∞–µ–º —Å–∫—Ä–∏–ø—Ç –∏–≥—Ä–æ–∫–∞ –º—ã —Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º:

```gdscript
signal game_over
var is_dead := false # –≤–≤–æ–¥–∏–º –Ω–æ–≤—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é 


func _physics_process(delta):
	if not is_dead: # –µ—Å–ª–∏ –∏–≥—Ä–æ–∫ –Ω–µ —É–º–µ—Ä, —Ç–æ...
		handle_movement() # –≤—ã–∑—ã–≤–∞–µ–º –º–µ—Ç–æ–¥ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–≤–∏–∂–µ–Ω–∏—è
		handle_actions() # –≤—ã–∑—ã–≤–∞–µ–º –º–µ—Ç–æ–¥ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π
		take_damage(delta) # –≤—ã–∑—ã–≤–∞–µ–º –º–µ—Ç–æ–¥ –ø–æ–ª—É—á–µ–Ω–∏—è —É—Ä–æ–Ω–∞
	
	move_and_slide()


func handle_movement(): # –≤—Å—é –ª–æ–≥–∏–∫—É –º—ã –ø–µ—Ä–µ–Ω–µ—Å–ª–∏ —Å—é–¥–∞
	var direction := Input.get_vector("left", "right", "up", "down")
	look_at(get_global_mouse_position())
	if direction != Vector2.ZERO:
		velocity = direction * SPEED
	else:
		velocity = Vector2.ZERO


func handle_actions() -> void: # –∏ —Å—é–¥–∞
	if Input.is_action_pressed("LMB"):
		shoot()


func take_damage(delta):
	const DAMAGE_RATE = 1
	var overlapping_zombies = %HurtBox.get_overlapping_bodies()
	if overlapping_zombies.size() > 0:
		hp -= DAMAGE_RATE * overlapping_zombies.size() * delta
		if hp <= 0.0:
			is_dead = true # –ø–µ—Ä–µ–∫–ª—é—á–∞–µ–º –µ—ë, –∫–æ–≥–¥–∞ –∏–≥—Ä–æ–∫ –ø—Ä–æ–∏–≥—Ä—ã–≤–∞–µ—Ç
			emit_signal("game_over")
```

### –†–∞–±–æ—Ç–∞–µ–º —Å —É–∑–ª–∞–º–∏

- –°–æ–∑–¥–∞–µ–º —É–∑–µ–ª `Control` –∏ –Ω–∞–∑—ã–≤–∞–µ–º –µ–≥–æ `GameOverUI` –∏ –¥–µ–ª–∞–µ–º –µ–≥–æ –Ω–∞ –≤–µ—Å—å `viewport` (–∏–≥—Ä–æ–≤–æ–π —ç–∫—Ä–∞–Ω). –í –Ω–µ–º –±—É–¥–µ—Ç `Label` –≤ –∫–æ—Ç–æ—Ä—ã–π –º—ã –ø–æ–º–µ—â–∞–µ–º —Ç–µ–∫—Å—Ç "–¢—ã –ø—Ä–æ–∏–≥—Ä–∞–ª!".
- –ö—Ä–µ–ø–∏–º –æ—Ç –∏–≥—Ä–æ–∫–∞ —Å–∏–≥–Ω–∞–ª `game_over`, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤–æ –≤–∫–ª–∞–¥–∫–µ `–£–∑–µ–ª`, –∫ –∫–æ—Ä–Ω–µ–≤–æ–º—É —É–∑–ª—É —Å—Ü–µ–Ω—ã `Game` (—Ç–∞–º –≥–¥–µ —É –Ω–∞—Å —É—Ä–æ–≤–µ–Ω—å).
- –ü—Ä–æ–ø–∏—Å—ã–≤–∞–µ–º —Å–∫—Ä–∏–ø—Ç –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

<img src='https://github.com/IT-Compot/Python-methodologies/blob/main/first-stage/Shooter/images/GameOverUIView.png'>

#### –°–∫—Ä–∏–ø—Ç —É–∑–ª–∞ `Game`

```gdscript
func _on_player_game_over():
	$CanvasLayer/GameOverUI.visible = true
```
## –ú–µ–Ω—é

–¢–µ–ø–µ—Ä—å –ø–æ—Ä–∞–±–æ—Ç–∞–µ–º –Ω–∞–¥ –∫–Ω–æ–ø–∫–æ–π –ø–∞—É–∑—ã. –í—ã–∑—ã–≤–∞—Ç—å—Å—è –æ–Ω–∞ –±—É–¥–µ—Ç –Ω–∞ —É–∂–µ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫—É—é –∫–ª–∞–≤–∏—à—É <kbd>ESC</kbd>. –ò–¥–µ—è –ø—Ä–æ—Å—Ç–∞—è:
- –°–æ–∑–¥–∞–µ–º –Ω–æ–≤—É—é —Å—Ü–µ–Ω—É, –∫–æ—Ä–Ω–µ–º –¥–µ–ª–∞–µ–º `Control`, –º–æ–∂–Ω–æ –Ω–∞–∑–≤–∞—Ç—å `PauseMenu`
- –î–∞–ª–µ–µ —Å–æ–∑–¥–∞–µ–º `VBoxConatiner` –∏ —Å—Ç–∞–≤–∏–º –µ–≥–æ –ø–æ —Ü–µ–Ω—Ç—Ä—É
<img src='https://github.com/IT-Compot/Python-methodologies/blob/main/first-stage/Shooter/images/screenshot_center.jpg'>
- –í–Ω—É—Ç—Ä—å `VBoxConatiner` –¥–æ–±–∞–≤–ª—è–µ–º –¥–≤–∞ `Button`, –Ω–∞–∑–≤–∞—Ç—å –∏—Ö –º–æ–∂–Ω–æ `ContinueButton` –∏ `ExitButton`. –¢–µ–∫—Å—Ç –≤ –∫–Ω–æ–ø–∫–∞—Ö –ø–∏—à–µ–º —Å–æ–æ—Ç–≤–µ—Å—Ç–≤—É—é—â–∏–π
- –î–æ–±–∞–≤–ª—è–µ–º —Å–∫—Ä–∏–ø—Ç –∫ `PauseMenu` –∏ —Ç—É–¥–∞ –∂–µ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏–º —Å–∏–≥–Ω–∞–ª—ã `pressed` –æ—Ç –∫–Ω–æ–ø–æ–∫

–¢–µ–ø–µ—Ä—å –ø–æ—Å–º–æ—Ç—Ä–∏–º –Ω–∞ —Å–∫—Ä–∏–ø—Ç:

```gdscript
extends Control

var is_paused := false # –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞ –ø–∞—É–∑–µ –ª–∏ –∏–≥—Ä–∞


func _ready():
	self.visible = false


func _input(event):
	if Input.is_action_just_pressed("ui_cancel"):
		is_paused = !is_paused
		
	#printerr("Is paused: ", is_paused)
	
	if is_paused:
		self.visible = true
		get_tree().paused = true
	else:
		get_tree().paused = false
		self.visible = false
		


func _on_continue_button_pressed():
	is_paused = false
	get_tree().paused = false
	

func _on_exit_button_pressed():
	get_tree().quit()
```


### –û–ø–∏—Å–∞–Ω–∏–µ
–≠—Ç–æ—Ç –∫–æ–¥ —Ä–µ–∞–ª–∏–∑—É–µ—Ç –ø—Ä–æ—Å—Ç–æ–µ **–º–µ–Ω—é –ø–∞—É–∑—ã** –≤ –∏–≥—Ä–µ. 
–ú–µ–Ω—é –ø–æ—è–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ –∫–ª–∞–≤–∏—à—É <kbd>Esc</kbd> –∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ª–∏–±–æ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å –∏–≥—Ä—É, –ª–∏–±–æ –≤—ã–π—Ç–∏.

#### –ö–æ–¥
```gdscript
extends Control

var is_paused := false

func _ready():
    self.visible = false

func _input(event):
    if Input.is_action_just_pressed("ui_cancel"):
        is_paused = !is_paused
    
    if is_paused:
        self.visible = true
        get_tree().paused = true
    else:
        get_tree().paused = false
        self.visible = false

func _on_continue_button_pressed():
    is_paused = false
    get_tree().paused = false

func _on_exit_button_pressed():
    get_tree().quit()
```

#### –†–∞–∑–±–æ—Ä –∫–æ–¥–∞
##### 1. **–û–±—ä—è–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π**
```gdscript
var is_paused := false
```
- –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è `is_paused` —Ö—Ä–∞–Ω–∏—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–∞—É–∑—ã (**`true`** ‚Äî –∏–≥—Ä–∞ –Ω–∞ –ø–∞—É–∑–µ, **`false`** ‚Äî –∏–≥—Ä–∞ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è).
- –í –Ω–∞—á–∞–ª–µ (`:= false`) –ø–∞—É–∑—ã –Ω–µ—Ç.

##### 2. **–§—É–Ω–∫—Ü–∏—è `_ready()`**
```gdscript
func _ready():
    self.visible = false
```
- –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ü–µ–Ω—ã.
- `self.visible = false` —Å–∫—Ä—ã–≤–∞–µ—Ç –º–µ–Ω—é –ø–∞—É–∑—ã –≤ –Ω–∞—á–∞–ª–µ –∏–≥—Ä—ã.

##### 3. **–§—É–Ω–∫—Ü–∏—è `_input(event)`** ‚Äì –æ–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞–∂–∞—Ç–∏—è –∫–ª–∞–≤–∏—à–∏
```gdscript
func _input(event):
    if Input.is_action_just_pressed("ui_cancel"):
        is_paused = !is_paused
```
- `Input.is_action_just_pressed("ui_cancel")` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, –Ω–∞–∂–∞—Ç–∞ –ª–∏ –∫–ª–∞–≤–∏—à–∞ `ui_cancel` (–æ–±—ã—á–Ω–æ **Esc**).
- `is_paused = !is_paused` –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç –ø–∞—É–∑—É (`true` ‚Üí `false`, `false` ‚Üí `true`).

##### 4. **–í–∫–ª—é—á–µ–Ω–∏–µ –∏ –≤—ã–∫–ª—é—á–µ–Ω–∏–µ –ø–∞—É–∑—ã**
```gdscript
if is_paused:
    self.visible = true
    get_tree().paused = true
else:
    get_tree().paused = false
    self.visible = false
```
- **–ï—Å–ª–∏ `is_paused == true` (–ø–∞—É–∑–∞ –≤–∫–ª—é—á–µ–Ω–∞)**:
  - `self.visible = true` ‚Äì –ø–æ–∫–∞–∑–∞—Ç—å –º–µ–Ω—é –ø–∞—É–∑—ã.
  - `get_tree().paused = true` ‚Äì –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏–≥—Ä—É (–≤—Ä–∞–≥–∏, –∞–Ω–∏–º–∞—Ü–∏–∏, —Ñ–∏–∑–∏–∫–∞).
- **–ï—Å–ª–∏ `is_paused == false` (–ø–∞—É–∑–∞ –≤—ã–∫–ª—é—á–µ–Ω–∞)**:
  - `get_tree().paused = false` ‚Äì –≤–æ–∑–æ–±–Ω–æ–≤–∏—Ç—å –∏–≥—Ä—É.
  - `self.visible = false` ‚Äì —Å–∫—Ä—ã—Ç—å –º–µ–Ω—é –ø–∞—É–∑—ã.

##### 5. **–ö–Ω–æ–ø–∫–∞ "–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å"**
```gdscript
func _on_continue_button_pressed():
    is_paused = false
    get_tree().paused = false
```
- –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –∫–Ω–æ–ø–∫–∏ **"–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å"**.
- –í—ã–∫–ª—é—á–∞–µ—Ç –ø–∞—É–∑—É –∏ –≤–æ–∑–æ–±–Ω–æ–≤–ª—è–µ—Ç –∏–≥—Ä—É.

##### 6. **–ö–Ω–æ–ø–∫–∞ "–í—ã—Ö–æ–¥"**
```gdscript
func _on_exit_button_pressed():
    get_tree().quit()
```
- –ó–∞–∫—Ä—ã–≤–∞–µ—Ç –∏–≥—Ä—É.

---
üí° **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ**:
- –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å **–∞–Ω–∏–º–∞—Ü–∏—é** –ø–æ—è–≤–ª–µ–Ω–∏—è –º–µ–Ω—é.
- –ú–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å **–ø–ª–∞–≤–Ω–æ–µ –∑–∞—Ç–µ–º–Ω–µ–Ω–∏–µ** —Ñ–æ–Ω–∞ –ø—Ä–∏ –ø–∞—É–∑–µ.
- –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å **–≥–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏** –¥–ª—è –≤—ã—Ö–æ–¥–∞ –∏–∑ –∏–≥—Ä—ã.

#### –¢–µ–ø–µ—Ä—å –ø–æ –ø–æ—Ä—è–¥–∫—É

–ù–∞—á–∏–Ω–∞–µ–º –º—ã —Å —Å–∏–≥–Ω–∞–ª–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –∏–¥—É—Ç –æ—Ç –∫–Ω–æ–ø–æ–∫. –ò—Ö –Ω–∞–¥–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å

```gdscript
func _on_continue_button_pressed():
	pass
	

func _on_exit_button_pressed():
	pass
```

–î–∞–ª–µ–µ —Å–æ–∑–¥–∞–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `is_paused := false` –∏ –≤ –ø—Ä–∏–Ω—Ü–∏–ø–µ –º–æ–∂–Ω–æ –Ω–∞–ø–∏—Å–∞—Ç—å –∫–æ–¥, —á—Ç–æ–±—ã –º–µ–Ω—é –ø–∞—É–∑—ã –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ –±—ã–ª–æ –Ω–µ–≤–∏–¥–∏–º—ã–º.
–¢–µ–ø–µ—Ä—å –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É `ContinueButton` –º—ã –ø–µ—Ä–µ–∫–ª—é—á–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π `is_paused` –≤ `false`

```gdscript
func _on_continue_button_pressed():
	is_paused = false
	get_tree().paused = false # —Ç–∞–∫–∂–µ –º—ã —Å—Ç–∞–≤–∏–º –¥–µ—Ä–µ–≤–æ –Ω–∞ –ø–∞—É–∑—É
```
–ê –≤ —Å–∏–≥–Ω–∞–ª–µ, –∫–æ—Ç–æ—Ä—ã–π –∏–¥–µ—Ç –æ—Ç –∫–Ω–æ–ø–∫–∏ `ExitButton` –ø–∏—à–µ–º —Å–ª–µ–¥—É—é—â–µ–µ:

```gdscript
func _on_exit_button_pressed():
	get_tree().quit() # –≤—ã—Ö–æ–¥–∏–º –∏–∑ –∏–≥—Ä—ã
```

–ò —Ç–µ–ø–µ—Ä—å —Å–∞–º–∞—è –∏–Ω—Ç–µ—Ä–µ—Å–Ω–∞—è —á–∞—Å—Ç—å. –ú—ã —Ç—É—Ç –¥–µ–ª–∞–µ–º –≤—ã–∫–ª—é—á–µ–Ω–∏–µ –ø–∞—É–∑—ã –Ω–∞ <kbd>ESC</kbd>. –ù–∞–∂–∞—Ç–∏–µ –Ω–∞ –∫–Ω–æ–ø–∫—É –ø–∞—É–∑—ã –≤–∫–ª—é—á–∞–µ—Ç –∏ –≤—ã–∫–ª—é—á–∞–µ—Ç —Å–∞–º—É –ø–∞—É–∑—É

```gdscript
func _input(event):
	if Input.is_action_just_pressed("ui_cancel"):
		is_paused = !is_paused
		
	if is_paused:
		self.visible = true
		get_tree().paused = true
	else:
		get_tree().paused = false
		self.visible = false
```

>[!Caution]
>–í –∏–Ω—Å–ø–∫—Ç–æ—Ä–µ, –≤–æ –≤–∫–ª–∞–¥–∫–µ `Process` —É –∫–Ω–æ–ø–æ–∫ –Ω–∞–¥–æ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä `Mode` –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ `Always`, —á—Ç–æ–±—ã –∫–Ω–æ–ø–∫–∞ —Ä–∞–±–æ—Ç–∞–ª–∞ –¥–∞–∂–µ –µ—Å–ª–∏ –¥–µ—Ä–µ–≤–æ –Ω–∞ –ø–∞—É–∑–µ.
