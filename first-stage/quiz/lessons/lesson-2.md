# Урок 2

## Краткое содержание

- Попытки игрока;
- Проверка неправильных букв и вывод в `Label`;
- Поражение игрока;

## Попытки игрока

Создаем переменную `tries`, которая будет хранить в себе количество попыток у игрока

```gdscript
var tries = 6 # можете задать свое кол-во попыток
```
Отправляемся в метод `add_wrong_letter()`.
```gdscript
func add_wrong_letter():
	tries -= 1 # отнимаем одну попытку
  	bad.append(letter) # добавляем букву в массив "плохих" букв
```

### Создаем интерфейс

Создадим `Label`, который переименуем в что-то вроде `TriesLabel`. Он будет количество попыток у игрока.

![image](https://github.com/user-attachments/assets/17fed105-0e19-42cc-949a-340f74c3e9a8)

> Настройте его на свой вкус

Возвращаемся в скрипт и пишем:
```gdscript
func add_wrong_letter():
	tries -= 1 # отнимаем одну попытку
	$Control/TriesLabel.text = "Попытки: " + str(tries) # добавляем слово "Попытки" и к нему добавляем преобразованную переменную tries
  	bad.append(letter) # добавляем букву в массив "плохих" букв
```

Отлично. Сейчас счетчик может уходить в минус, потом мы это исправим.

### Проверка неправильных букв


Добавляем `Label` и назовем его `BadLabel`, который будет выводить неправильные буквы.

![image](https://github.com/user-attachments/assets/ea602b5a-1eec-4c2d-99ea-7f82bc491b85)
> Сразу напишите что-то вроде "Неправильные буквы: " в свойстве `text`


Работаем с методом `add_wrong_letter():` и добавляем новую строку:
```gdscript
func add_wrong_letter():
	tries -= 1
	$Control/TriesLabel.text = "Попытки: " + str(tries)
  	bad.append(letter) 
	$Control/BadLabel.text += letter + str(", ") # добавляем букву и знак запятой в качестве разделителя букв
```

### Поражение игрока

Ключевая задача: сделать функцию поражения. Как она будет работать? Должна срабатывать, когда у игрока заканчиваются попытки.

Добавим в скрипт такие строки:
```gdscript
func add_wrong_letter():
	tries -= 1
	$Control/TriesLabel.text = "Попытки: " + str(tries)
	bad.append(letter)
	$Control/BadLabel.text += letter + str(", ")
		
	if tries == 0: # если попыток 0, то вызываем метод
		check_game_over() # вот этот
```

>[!Tip]
>Можете дать сделать эту функцию ученикам на самостоятельную работу, а вы будете помогать при необходимости.

Создаем метод `check_game_over()` и просто выводим там надпись в консоль с текстом "Поражение" или что-то в этом духе.

```gdscript
func check_game_over():
	print("Поражение")
```

# Итоги

Что было сделано за урок:

1) Работающая механика попыток
2) Интерфейс, который отображает важные состояния и данные игры
3) Подготовили функцию поражения и даже частично ее написали
