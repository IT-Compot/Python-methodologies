# Python: Основы. Урок 4

**Цель урока**: Познакомиться с ключевыми элементами языка Python: списки, словари, функции и алгоритм бинарного поиска.

## 1. Списки

>[!TIP]
>Список (list) в Python — это упорядоченная коллекция элементов, которая позволяет хранить несколько значений в одной переменной. Списки помогают удобно работать с группами данных, выполняя различные операции — добавление, удаление или изменение элементов.

Работать над этим и последующими проекта продолжаем в Pycharm.

**Пример 1**

Этот код демонстрирует операции со списками в Python. Он создает два списка, объединяет их, сортирует первый список и выводит результаты.

```python
list_1 = [3, 2, 14, 256, 23, 1]  # Создаем первый список с числами
list_2 = [2, 76, 2]  # Создаем второй список с числами

print(list_1 + list_2)  # Выводим результат объединения двух списков. Оператор + объединяет списки, создавая новый список.

list_1.sort()  # Сортируем список list_1 по возрастанию (метод sort() изменяет список на месте).
print(list_1)  # Выводим отсортированный список list_1
```

**Пример 2**

Этот код демонстрирует работу со списками в Python, а именно, использование метода `insert()`. Сначала создается список, содержащий числа и строку. Затем с помощью `insert()` в список добавляется новый элемент (“hi”) по указанному индексу (2). После каждого действия список выводится на экран.

```python
list = [1, 2, 3, "str"]  # Создаем список, содержащий целые числа и строку.
print(list)  # Выводим исходный список на экран.

list.insert(2, "hi")  # Вставляем строку "hi" в список по индексу 2. Метод insert() сдвигает все элементы, начиная с указанного индекса, вправо.
print(list)  # Выводим измененный список на экран.
```

**Пример 3**

Этот код демонстрирует два метода для работы со списками в Python: remove() и clear(). Сначала создается список, затем из него удаляется элемент со значением 3 с помощью remove(). После этого список очищается полностью с помощью clear(). После каждой операции список выводится на экран.

```python
list = [1, 2, 3, "str"]  # Создаем список, содержащий целые числа и строку.
list.remove(3)  # Удаляем из списка первый элемент со значением 3.
print(list)  # Выводим список после удаления элемента.
list.clear()  # Удаляем все элементы из списка, делая его пустым.
print(list)  # Выводим пустой список.
```

**Пример 4**

Этот код демонстрирует использование метода count() для списков в Python. Он создает список чисел и затем выводит количество раз, которое число 1 встречается в этом списке.

```python
list = [3, 2, 1, 14, 256, 21, 1]  # Создаем список с числами.
print(list.count(1))  # Выводим количество раз, которое число 1 встречается в списке.  Метод count() возвращает количество вхождений указанного элемента.
```

## 2. Словари

>[!TIP]
>Словари в Python - это коллекции пар “ключ-значение”. Они позволяют быстро находить значение по его ключу.
>
>Словарь в языках программирования — это что-то вроде телефонной книги, где под каждым номером скрывается какой-то человек.

**Пример 5**

Этот код создает словарь `dict`, содержащий три пары ключ-значение, где ключи - это строки, а значения - целые числа. Затем он выводит значение, соответствующее ключу `"all"`.

```python
dict = {  # Создаем словарь с именем dict
  "hi" : 0,  # Ключ "hi" со значением 0
  "all" : 1,  # Ключ "all" со значением 1
  "!" : 2   # Ключ "!" со значением 2
}

print(dict["all"])  # Выводим значение, связанное с ключом "all" (в данном случае, это 1).
```

**Пример 6**

Этот код демонстрирует проверку наличия ключа в словаре с помощью оператора `in` и последующее получение значения по этому ключу. Сначала создается словарь `dict`. Затем проверяется, существует ли ключ `"all"` в этом словаре. Если ключ существует, то выводится соответствующее ему значение.

```python
dict = {  # Создаем словарь с именем dict
  "hi" : "hello",  # Ключ "hi" со значением "hello"
  "all" : 1   # Ключ "all" со значением 1
}

if "all" in dict:  # Проверяем, есть ли ключ "all" в словаре dict. Оператор "in" возвращает True, если ключ найден, и False в противном случае.
  print(dict["all"])  # Если ключ "all" найден, выводим его значение (в данном случае, это 1).
```

## 3. Функции

>[!TIP]
>Функция (def) в Python — это фрагмент кода, который выполняет определённые операции и отдаёт результат. Его можно написать один раз и переиспользовать во всей программе.

**Пример 6**

Этот код определяет функцию test_print, которая принимает один аргумент num и выводит его значение на экран. Затем эта функция вызывается с аргументом 10.

```python
def test_print(num):  # Определяем функцию с именем test_print, которая принимает один аргумент (параметр) с именем num.
  print(num)  # Тело функции: выводим значение аргумента num на экран.

test_print(10)  # Вызываем функцию test_print, передавая ей значение 10 в качестве аргумента.
```

**Пример 7**

Этот код определяет функцию test_print, которая принимает список в качестве аргумента и выводит каждый элемент этого списка на отдельной строке. Затем эта функция вызывается со списком MyList.

```python
MyList = ["кто", "кролика", "роджера", "?"]  # Создаем список строк.

def test_print(lst):  # Определяем функцию test_print, которая принимает один аргумент с именем lst, представляющий список.
  for i in lst:  # Запускаем цикл for, который перебирает элементы списка lst. На каждой итерации цикла переменная i принимает значение очередного элемента списка.
    print(i)  # Выводим значение текущего элемента i на экран.

test_print(MyList)  # Вызываем функцию test_print, передавая ей список MyList в качестве аргумента.
```

## 4. Алгоритм бинарного поиска

**Пример 8**

Этот код реализует алгоритм бинарного поиска для нахождения элемента в отсортированном списке. Сначала создается список, затем он сортируется. Пользователь вводит число, которое нужно найти. Функция `binary_search` выполняет бинарный поиск и возвращает индекс найденного элемента, либо -1, если элемент не найден.

```python
list = [3, 5, 10, 1, 4, 9]  # Создаем список чисел.
list.sort()  # Сортируем список по возрастанию (метод sort() изменяет список на месте).
print(list)  # Выводим отсортированный список.
target = int(input("введите число которое хотите найти в списке: "))  # Получаем от пользователя число для поиска и преобразуем его в целое число.

def binary_search(list, target):  # Определяем функцию binary_search, которая принимает список и целевое число в качестве аргументов.
    low = 0  # Инициализируем переменную low индексом начала списка.
    high = len(list) - 1  # Инициализируем переменную high индексом конца списка.

    while low <= high:  # Цикл выполняется, пока low не превысит high.
        mid = (low + high) // 2  # Вычисляем индекс середины списка (используем целочисленное деление //).
        if list[mid] == target:  # Если элемент в середине равен целевому числу.
            return mid  # Возвращаем индекс середины (элемент найден).
        elif list[mid] < target:  # Если элемент в середине меньше целевого числа.
            low = mid + 1  # Сдвигаем low вправо (ищем в правой половине списка).
        else:  # Иначе, если элемент в середине больше целевого числа.
            high = mid - 1  # Сдвигаем high влево (ищем в левой половине списка).
    return -1  # Если цикл завершился и элемент не найден, возвращаем -1.

print(binary_search(list, target))  # Вызываем функцию binary_search и выводим результат на экран.
```

## 5. Задачи для закрепления теории

**Задача 1: Работа со списками**

**Условие**: Напишите функцию `double_list(numbers)`, которая принимает список чисел `numbers` и возвращает новый список, где каждое число из исходного списка умножено на 2.

```python
def double_list(numbers):
    new_list = []
    for num in numbers:
        new_list.append(num * 2)
    return new_list

# Пример использования:
numbers = [1, 2, 3, 4, 5]
doubled_numbers = double_list(numbers)
print(doubled_numbers)  # Вывод: [2, 4, 6, 8, 10]
```

**Задача 2: Работа со списками**

**Условие**: Напишите функцию `count_letters(text)`, которая принимает строку `text` и возвращает словарь, где ключи – это буквы из строки, а значения – количество раз, которое каждая буква встречается в строке (без учета регистра). Пробелы учитывать не нужно.

>[!TIP]
>Можно заранее показать метод `.isalpha()`. Метод `isalpha()` возвращает `True`, если все символы в строке являются алфавитными. Если нет, возвращается `False`.

```python
def count_letters(text):
    letter_counts = {}
    text = text.lower()  # Приводим к нижнему регистру для учета без различий
    for char in text:
        if char.isalpha():  # Проверяем, что это буква
            if char in letter_counts:
                letter_counts[char] += 1
            else:
                letter_counts[char] = 1
    return letter_counts

# Пример использования:
text = "Hello World"
letter_counts = count_letters(text)
print(letter_counts)  # Вывод: {'h': 1, 'e': 1, 'l': 3, 'o': 2, 'w': 1, 'r': 1, 'd': 1}
```
